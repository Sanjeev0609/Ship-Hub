<!DOCTYPE html>
<html >
  <head>
    <meta charset="UTF-8">
    <title>Alerts</title>
    <link rel="stylesheet" href="alertstyles.css">
    <script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-auth.js"></script>
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

    
    <script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-database.js"></script>

    <style type="text/css">

      body {
          background-image: url("bac.jpg");
          background-size: auto;
 padding: 0;
 margin: 0;
      } 
      img{
          height: 120px;
          width: 140px;
      }
      h1{
        text-align: left;
        font-family: "Lucida Console", "Courier New", monospace;
        color: white;

        text-shadow: 2px 2px;
      }
      h3{
        text-align: left;
        font-family: "Lucida Console", "Courier New", monospace;
        color: grey;
      }
      h2{
        font-family: "Lucida Console", "Courier New", monospace;
        color: ghostwhite;
      }
  .button {
  border-radius: 10px;
  background-color: orangered;
  border: none;
  color: rgb(255, 255, 255);
  text-shadow: 2px 2px 5px rgb(56, 0, 0);
  text-align: center;
  position: relative;
  right: 50px;
  font-size: 25px;
  padding: 0;
  width: 140px;
  height: 35px;
  transition: all 0.5s;
  cursor: pointer;
  margin: 3px;
  margin-top: 8px;
}

.button span {
  cursor: pointer;
  display: inline-block;
  position: relative;
  transition: 0.5s;
}

.button span:after {
  content: '\00bb';
  position: absolute;
  opacity: 0;
  top: 0;
  right: -20px;
  transition: 0.5s;
}

.button:hover span {
  padding-right: 25px;
}

.button:hover span:after {
  opacity: 1;
  right: 0;
}
.blink-bg{
		color: #fff;
	


		animation: blinkingBackground 2s infinite;
	}
	@keyframes blinkingBackground{
		0%		{ background-color: #E21717;}
		25%		{ background-color: #E21717;}
		50%		{ background-color: #B4161B;}
		75%		{ background-color:#EB4D4B;}
		100%	        { background-color: #E21717;}
	}
.Invisible{
  visibility: collapse;

}
.Visible{
  visibility: visible;
}
.alertanimation{
 width: 200px; 
 height: 200px; 
position: absolute;
  padding: 0;
  top:0;

  left: 0%;

}

</style>

  </head>
<script>
   const firebaseConfig = {
    apiKey: "AIzaSyBHuyDvGHCk92E2FPZCF_BsL3mCVXK3iBQ",
    authDomain: "fisherman-s-guardian.firebaseapp.com",
    databaseURL: "https://fisherman-s-guardian-default-rtdb.firebaseio.com",
    projectId: "fisherman-s-guardian",
    storageBucket: "fisherman-s-guardian.appspot.com",
    messagingSenderId: "467835259902",
    appId: "1:467835259902:web:3456a7b660bb145069ceaf",
    measurementId: "G-V31DCS1X5D"
  };
  
  firebase.initializeApp(firebaseConfig);
 database=firebase.database()
 var ref=database.ref('UserAlerts')
 var ref2=database.ref('AdminAlerts')
  function shownotification(){  
 ref2.push("newalert")
  }

 ref.on('value',gotData,errData)
 function gotData(data){
   if(data.val()==null){
  console.log("null")
   }else
    {
      var datetime =  new Date().toLocaleString();
   document.getElementById("alertTime").innerHTML=datetime
   var element = document.getElementById("alertrow");
  element.classList.remove("Invisible");
  element.classList.add("Visible");

    }
 }
 function errData(err){
   alert("error")
 }

</script>
  <body>

    <div class="tilte">
      <h1>Fishermen's Guardian</h1>
      <lottie-player  class="alertanimation" src="https://assets7.lottiefiles.com/private_files/lf30_kvlctl05.json"
      background="transparent"  speed="0.8"   loop  autoplay></lottie-player>
    </div>
  
   
    <h3>Fishermen Alert's Surveillance</h3>

<div class="alert_card">
        
        <div class="alert_container hide_scroll" >
            <h2 ><b>RECIEVED ALERTS</b></h2>
            <table style="width: 100%;margin-top: 10px;">
                <tr>
                    <th><b>Ship ID</b></th>
                    <th><b>Time</b></th>
                    <th colspan="2"><b>Location</b></th>
                    <th><b>Type of Alert</b></th>
                    <th><b>Status</b></th>
                </tr>
                <tr id="alertrow" class="Invisible blink-bg ">
                  <td id="shipid">21jph012</td>
                  <td id="alertTime">time</td>
                  <td >40 40.48N</td>
                  <td >63 23.78E</td>
                  <td>Need BoatAssistance</td>
                  <td><img style="width: 40px; height: 40px;" src="pending.png"> </td>
                </tr>
                <tr>
                    <td>21jph007</td>
                    <td>05:01:49(20/08/2021) </td> 
                    <td >40 40.48N</td>
                    <td >63 23.78E</td>
                    <td>Need Boat Assistance</td>
                    <td><img style="width: 40px; height: 40px;" src="tick.png"> </td>
                </tr>
                <tr>
                    <td>21jph001</td>
                    <td>06:01:49(26/08/2021) </td>
                    <td >30 40.48N </td>
                    <td >123 23.78E</td>
                    <td>Border Dispute</td>
                    <td><img style="width: 40px; height: 40px;" src="tick.png"> </td>
                </tr>
                <tr>
                    <td>21jph003</td>
                    <td>06:01:49(26/08/2021) </td>
                    <td >30 40.48N </td>
                    <td >123 23.78E</td>
                    <td>Medical Issue</td>
                    <td><img style="width: 40px; height: 40px;" src="tick.png"> </td>
                </tr>
                <tr>
                    <td>21jph003</td>
                    <td>06:01:49(26/08/2021) </td>
                    <td >30 40.48N </td>
                    <td >123 23.78E</td>
                    <td>Need Boat Assistance</td>
                    <td><img style="width: 40px; height: 40px;" src="tick.png"> </td>
                </tr>
                <tr>
                    <td>21jph008</td>
                    <td>06:01:49(26/08/2021) </td>
                    <td >30 40.48N </td>
                    <td >123 23.78E</td>
                    <td>Border Dispute</td>
                    <td><img style="width: 40px; height: 40px;" src="tick.png"> </td>
                </tr>
             
            </table>

             
        </div>
    </div>
  <div class="top_right_align">
    <div class="col_third">
        <div class="hover panel">
          <div class="front">
            <div class="box1">
              <h3 style="color: black;text-shadow: 2px 2px 5px red;">Emergency?</h3>
              <img src="alert.png" style="border: 10px;height: 100px;width: 100px;">
            </div>
          </div>
          <div class="back">
            <div class="box2">
                  <div class="right_align" >
                      <h3 style="color: black;text-shadow: 2px 2px 5px red;"><b>Prompt them?</b></h3>
                      <select id="alerts" name="alert">
                          <option value="border_alert">Border Alert</option>
                          <option value="climate_alert">Climate Alert</option>
                      </select>
                  </div>
            </div>
          </div>
        </div>
      </div>
</div>
<div class="bottom_right_align">
  <div class="col_third">
        <div class="hover panel">
          <div class="front">
            <div class="box3">
              <h3 style="color: black;text-shadow: 2px 2px 5px blue;">Transmit Signal</h3>
              <img src="usetower.png">
            </div>
          </div>
          <div class="back">
            <div class="box4">
                  <div class="right_align" >
                    <h3 style="text-align: center;color: black;text-shadow: 2px 2px 5px red;"><b>Transmit To?</b></h3>

                    <input type="radio" id="radio_alerts" name="fav_language" value="HTML">
                    <label for="radio_alerts"><input type="ship_id" id="ship_id" name="email"  placeholder="Enter Ship ID"></label><br>
                    <input type="radio" id="radio_alerts" name="fav_language" value="HTML">
                    <label for="radio_alerts">
                    <label for="alerts"></label>
                    <select id="send_alert" name="alert">
                        <option value="border_alert">All Active Ships</option>
                        <option value="climate_alert">Heli Squad</option>
                        <option value="climate_alert">Both</option>
                    </select>
                    </label> 
                    <br>
                    <button class="button" id ="send_alert_button"><span>Transmit</span></button>   
                  </div>
            </div>
          </div>
        </div>
      </div>
</div>

</div>
    <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>

        <script src="alerts.js"></script>

    
    
    
  </body>
</html>
